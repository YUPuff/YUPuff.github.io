---
title: 大数据处理
date: 2022-04-10 12:00:00 +0800
categories: [笔记]
tags: [大数据]
pin: true
author: 一缸浴盐

toc: true
comments: true
typora-root-url: ../../yupuff.github.io
math: false
mermaid: true
---

## 题目

<img src="/assets/blog_res/2022-04-10-大数据处理.assets/40亿数据.jpg" style="zoom:50%;" />

## 思路

当无内存限制的情况下，我们可以使用哈希表记录某个数字是否出现过，key为某个无符号整数，value为该整数在文件中出现的次数

如果某个数字没有在文件中出现，则哈希表中没有以该数字作为key的键值对

但是当需要考虑到内存限制时，以上这种方式不再适用

解决方法：

Java中一个int类型变量占4字节，10MB内存大概可以创建长度为（10MB/4 ≈ 2^21^）的int数组arr

2^32^ / 2^21^ = 2^11^

arr[0]记录文件中出现在0~1*2^11^-1的数字范围的数字个数

arr[1]记录文件中出现在1 * 2^11^ ~ 2 * 2^11^-1的数字范围的数字个数

arr[2]、arr[3]、...类似

由于32位无符号整数个数有42亿多个，大于文件包含的40亿个，所以该int数组中一定有某个元素由于该范围内数字出现频率更低而元素值更小，我们只需要再次统计位于该范围内数字出现频率（数组重新赋予含义，划分越来越细）

一直细分，直到出现统计结束后，数组某个元素值为0，则位于该范围内的数字在文件中都没出现过

